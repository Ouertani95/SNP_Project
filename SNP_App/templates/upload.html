{% extends 'base.html' %}

{% block content %}

    <form action="" method="post" class="mt-5 pt-5 text-center" enctype="multipart/form-data" id="upload_form">
        {% csrf_token %}
        <div class="container p-2 mb-5">
            <div class="row mb-5 justify-content-center text-center d-none" id="success_row">
                <div class="col-4">
                    <div class="alert alert-success" role="alert" id="success">

                    </div>
                </div>
            </div>
            <div class="row mb-3 justify-content-center text-center d-none" id="error_row">
                <div class="col-4">
                    <div class="alert alert-danger" role="alert" id="error">

                    </div>
                </div>
            </div>
            <div class="row mb-3 justify-content-center text-center d-none" id="waiting_row">
                <div class="col-">
                    <button class="btn btn-primary btn-lg" type="button" disabled id="waiting">
                        <span class="spinner-grow spinner-grow-sm" role="status" aria-hidden="true"></span>
                        Please wait while your data is being uploaded to database ...
                    </button>
                </div>
            </div>
            <div class="row justify-content-center text-start">
                <div class="col-4 p-4 border border-4 rounded-3 bg-white">
                    <h1 class="mb-5 pb-5 text-center"> File Upload </h1>
                    <i class="bi bi-file-earmark-arrow-up"></i> {{ form.file.label }}
                    {{ form.file }}
                    <div class="mt-3 justify-content-center text-center">
                        <input type="submit" value="Submit" class="btn btn-dark" id="submit_button">
                    </div>
                </div>
            </div>
        </div>

    </form>
     <-- Filling containers -->
    <div class="mb-5 pb-5">
    </div>
    <div class="mb-5 pb-5">
    </div>

{% endblock content %}

{% block specific_js %}
    {% load static %}
    <script id="upload_script" src="{% static 'js/upload.js' %}" data-name="{{ csrf_token }}"></script>
{% endblock specific_js %}